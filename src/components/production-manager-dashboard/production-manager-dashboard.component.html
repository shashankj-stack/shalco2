@if(currentUser(); as user) {
  <div class="flex h-screen bg-gray-100 dark:bg-gray-900 font-sans">
    <app-sidebar [user]="user" [activeMenuItem]="activeView()" (menuItemClicked)="onNavigate($event)"></app-sidebar>

    <div class="flex-1 flex flex-col overflow-hidden">
      <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900">
        @switch (activeView()) {
          @case ('Plan Review') {
            <app-plan-review></app-plan-review>
          }
          @case ('Capacity Overview') {
            <app-capacity-overview></app-capacity-overview>
          }
           @case ('Audit Trail') {
            <app-audit-trail></app-audit-trail>
          }
          @case ('Approval Queue') {
            <div class="container mx-auto px-6 py-8">
              <h3 class="text-gray-700 dark:text-gray-200 text-3xl font-medium">{{ activeView() }}</h3>
              <p class="mt-2 text-gray-600 dark:text-gray-400">This feature is under construction.</p>
            </div>
          }
        }
      </main>
    </div>
  </div>
}